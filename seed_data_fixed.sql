-- ============================================
-- SEED DATA FOR VMS COMMERCE SYSTEM (FIXED VERSION)
-- ============================================
-- UUID Format: 8-4-4-4-12 characters (total 36 chars including hyphens)
-- Đảm bảo UUID giữa User và Dealer khớp nhau với hardcoded role
-- ============================================

-- ============================================
-- 1. USER_DB - Role và Users
-- ============================================

USE user_db;

-- ========== ROLE ==========
-- NOTE: Role được tạo tự động bởi DataInitializer khi service khởi động
-- Các role IDs hardcoded được sử dụng:
-- - ADMIN: Generated by DataInitializer
-- - EVM_STAFF: Generated by DataInitializer  
-- - DEALER_MANAGER: Generated by DataInitializer
-- - DEALER_STAFF: Generated by DataInitializer
-- - CUSTOMER: Generated by DataInitializer

-- ========== USERS ==========
-- Password hash for "123123123" (BCrypt)
SET @default_password = '$2a$10$eaFOntfhEneo9ShG0DPPFeT5jZq4FL248mHC1A1GjmgSWQzsEcPOq';

-- Admin User (Đã được tạo bởi DataInitializer với email admin@gmail.com)
-- Không cần insert lại nữa

-- EVM Staff Users
INSERT INTO user (id, email, password, name, full_name, phone, address, birthday, city, country, status) VALUES
    (UNHEX(REPLACE('20000000-0000-0000-0000-000000000002', '-', '')), 'evm.staff@vms.com', @default_password, 'EVM Staff', 'EVM Staff Member', '0900000002', '456 EVM Street, Ho Chi Minh City', '1992-05-15', 'Ho Chi Minh City', 'Vietnam', 'ACTIVE')
ON DUPLICATE KEY UPDATE email = VALUES(email), password = VALUES(password);

-- Dealer Manager Users  
-- UUID khớp với Dealer IDs để dễ quản lý
-- Dealer Manager 1 (cho Dealer Ha Noi - UUID từ DataInitializer)
INSERT INTO user (id, email, password, name, full_name, phone, address, birthday, city, country, status) VALUES
    (UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 'manager.dealer.hn@vms.com', @default_password, 'Manager HN', 'Nguyễn Văn Manager', '0901000001', '789 Dealer 1 Street, Hanoi', '1985-03-20', 'Hanoi', 'Vietnam', 'ACTIVE')
ON DUPLICATE KEY UPDATE email = VALUES(email), password = VALUES(password);

-- Dealer Manager 2 (cho Dealer HCM)
INSERT INTO user (id, email, password, name, full_name, phone, address, birthday, city, country, status) VALUES
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 'manager.dealer.hcm@vms.com', @default_password, 'Manager HCM', 'Trần Thị Manager', '0902000001', '321 Dealer 2 Street, Ho Chi Minh City', '1987-07-10', 'Ho Chi Minh City', 'Vietnam', 'ACTIVE')
ON DUPLICATE KEY UPDATE email = VALUES(email), password = VALUES(password);

-- Dealer Manager 3 (cho Dealer Da Nang)
INSERT INTO user (id, email, password, name, full_name, phone, address, birthday, city, country, status) VALUES
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), 'manager.dealer.dn@vms.com', @default_password, 'Manager DN', 'Lê Văn Manager', '0903000001', '456 Dealer 3 Street, Da Nang', '1986-09-15', 'Da Nang', 'Vietnam', 'ACTIVE')
ON DUPLICATE KEY UPDATE email = VALUES(email), password = VALUES(password);

-- Dealer Staff Users
-- Dealer 1 (Hanoi) Staff (đã được tạo bởi DataInitializer với email TrongStaff@gmail.com)
INSERT INTO user (id, email, password, name, full_name, phone, address, birthday, city, country, status) VALUES
    (UNHEX(REPLACE('40000000-0000-0000-0000-000000000002', '-', '')), 'staff2.dealer.hn@vms.com', @default_password, 'Staff2 HN', 'Phạm Thị Staff', '0901000003', '789 Dealer 1 Street, Hanoi', '1993-09-12', 'Hanoi', 'Vietnam', 'ACTIVE')
ON DUPLICATE KEY UPDATE email = VALUES(email), password = VALUES(password);

-- Dealer 2 (HCM) Staff
INSERT INTO user (id, email, password, name, full_name, phone, address, birthday, city, country, status) VALUES
    (UNHEX(REPLACE('40000000-0000-0000-0000-000000000003', '-', '')), 'staff.dealer.hcm@vms.com', @default_password, 'Staff HCM', 'Hoàng Văn Staff', '0902000002', '321 Dealer 2 Street, Ho Chi Minh City', '1994-04-18', 'Ho Chi Minh City', 'Vietnam', 'ACTIVE'),
    (UNHEX(REPLACE('40000000-0000-0000-0000-000000000004', '-', '')), 'staff2.dealer.hcm@vms.com', @default_password, 'Staff2 HCM', 'Ngô Thị Staff', '0902000003', '321 Dealer 2 Street, Ho Chi Minh City', '1995-06-22', 'Ho Chi Minh City', 'Vietnam', 'ACTIVE')
ON DUPLICATE KEY UPDATE email = VALUES(email), password = VALUES(password);

-- Dealer 3 (Da Nang) Staff
INSERT INTO user (id, email, password, name, full_name, phone, address, birthday, city, country, status) VALUES
    (UNHEX(REPLACE('40000000-0000-0000-0000-000000000005', '-', '')), 'staff.dealer.dn@vms.com', @default_password, 'Staff DN', 'Võ Văn Staff', '0903000002', '456 Dealer 3 Street, Da Nang', '1996-03-10', 'Da Nang', 'Vietnam', 'ACTIVE')
ON DUPLICATE KEY UPDATE email = VALUES(email), password = VALUES(password);

-- Customer Users
INSERT INTO user (id, email, password, name, full_name, phone, address, birthday, city, country, status) VALUES
    (UNHEX(REPLACE('50000000-0000-0000-0000-000000000001', '-', '')), 'customer1@example.com', @default_password, 'Customer 1', 'Nguyễn Văn Khách', '0910000001', '123 Customer Street, Hanoi', '1998-02-14', 'Hanoi', 'Vietnam', 'ACTIVE'),
    (UNHEX(REPLACE('50000000-0000-0000-0000-000000000002', '-', '')), 'customer2@example.com', @default_password, 'Customer 2', 'Trần Thị Khách', '0910000002', '456 Customer Street, Ho Chi Minh City', '1996-08-30', 'Ho Chi Minh City', 'Vietnam', 'ACTIVE'),
    (UNHEX(REPLACE('50000000-0000-0000-0000-000000000003', '-', '')), 'customer3@example.com', @default_password, 'Customer 3', 'Lê Văn Khách', '0910000003', '789 Customer Street, Da Nang', '1997-12-05', 'Da Nang', 'Vietnam', 'ACTIVE')
ON DUPLICATE KEY UPDATE email = VALUES(email), password = VALUES(password);

-- ========== USER_ROLE ==========
-- Gán role cho users (sử dụng role names để tìm role IDs)
-- EVM Staff
INSERT INTO user_role (user_id, role_id)
SELECT UNHEX(REPLACE('20000000-0000-0000-0000-000000000002', '-', '')), r.id
FROM role r WHERE r.name = 'EVM_STAFF'
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Dealer Manager Hanoi
INSERT INTO user_role (user_id, role_id)
SELECT UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), r.id
FROM role r WHERE r.name = 'DEALER_MANAGER'
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Dealer Manager HCM
INSERT INTO user_role (user_id, role_id)
SELECT UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), r.id
FROM role r WHERE r.name = 'DEALER_MANAGER'
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Dealer Manager Da Nang
INSERT INTO user_role (user_id, role_id)
SELECT UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), r.id
FROM role r WHERE r.name = 'DEALER_MANAGER'
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Dealer Staff
INSERT INTO user_role (user_id, role_id)
SELECT u.id, r.id
FROM user u
CROSS JOIN role r
WHERE u.email IN ('TrongStaff@gmail.com', 'staff2.dealer.hn@vms.com', 'staff.dealer.hcm@vms.com', 'staff2.dealer.hcm@vms.com', 'staff.dealer.dn@vms.com')
AND r.name = 'DEALER_STAFF'
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Customers
INSERT INTO user_role (user_id, role_id)
SELECT u.id, r.id
FROM user u
CROSS JOIN role r
WHERE u.email IN ('customer1@example.com', 'customer2@example.com', 'customer3@example.com')
AND r.name = 'CUSTOMER'
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- ========== CUSTOMER_PROFILES ==========
INSERT INTO customer_profiles (customer_id, user_id, customer_code, preferred_dealer_id, loyalty_points, membership_tier, registration_date, is_verified) VALUES
    (UNHEX(REPLACE('60000000-0000-0000-0000-000000000001', '-', '')), UNHEX(REPLACE('50000000-0000-0000-0000-000000000001', '-', '')), 'CUS-20241201-0001', UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 100, 'BRONZE', CURDATE(), TRUE),
    (UNHEX(REPLACE('60000000-0000-0000-0000-000000000002', '-', '')), UNHEX(REPLACE('50000000-0000-0000-0000-000000000002', '-', '')), 'CUS-20241201-0002', UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 250, 'SILVER', CURDATE(), TRUE),
    (UNHEX(REPLACE('60000000-0000-0000-0000-000000000003', '-', '')), UNHEX(REPLACE('50000000-0000-0000-0000-000000000003', '-', '')), 'CUS-20241201-0003', NULL, 50, 'BRONZE', CURDATE(), FALSE)
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- ============================================
-- 2. DEALER_DB - Dealers
-- ============================================

USE dealer_db;

-- ========== DEALERS ==========
-- Dealer UUID khớp với Manager User IDs để dễ quản lý
-- Dealer 1: Hanoi (UUID từ DataInitializer)
INSERT INTO dealers (dealer_id, dealer_code, dealer_name, address, city, region, phone, email, tax_number, status, created_at, updated_at) VALUES
    (UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 'DLR-001', 'Đại Lý Xe Điện Hà Nội', '789 Đường Láng, Quận Đống Đa, Hà Nội', 'Hanoi', 'Miền Bắc', '0241234567', 'dealer.hn@vms.com', '0101234567', 'ACTIVE', NOW(), NOW())
ON DUPLICATE KEY UPDATE dealer_name = VALUES(dealer_name);

-- Dealer 2: HCM
INSERT INTO dealers (dealer_id, dealer_code, dealer_name, address, city, region, phone, email, tax_number, status, created_at, updated_at) VALUES
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 'DLR-002', 'Đại Lý Xe Điện TP.HCM', '321 Đường Nguyễn Văn Cừ, Quận 5, TP.HCM', 'Ho Chi Minh City', 'Miền Nam', '0287654321', 'dealer.hcm@vms.com', '0309876543', 'ACTIVE', NOW(), NOW())
ON DUPLICATE KEY UPDATE dealer_name = VALUES(dealer_name);

-- Dealer 3: Da Nang
INSERT INTO dealers (dealer_id, dealer_code, dealer_name, address, city, region, phone, email, tax_number, status, created_at, updated_at) VALUES
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), 'DLR-003', 'Đại Lý Xe Điện Đà Nẵng', '456 Đường Trần Phú, Quận Hải Châu, Đà Nẵng', 'Da Nang', 'Miền Trung', '0236123456', 'dealer.dn@vms.com', '0405555555', 'ACTIVE', NOW(), NOW())
ON DUPLICATE KEY UPDATE dealer_name = VALUES(dealer_name);

-- ========== DEALER_MANAGER_PROFILES ==========
USE user_db;

-- Dealer 1 (Hanoi) - Manager Profile
INSERT INTO dealer_manager_profiles (manager_id, user_id, dealer_id, management_level, approval_limit, department) VALUES
    (UNHEX(REPLACE('70000000-0000-0000-0000-000000000001', '-', '')), UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 'MANAGER', 1000000000, 'Management')
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Dealer 2 (HCM) - Manager Profile
INSERT INTO dealer_manager_profiles (manager_id, user_id, dealer_id, management_level, approval_limit, department) VALUES
    (UNHEX(REPLACE('70000000-0000-0000-0000-000000000003', '-', '')), UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 'MANAGER', 1000000000, 'Management')
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Dealer 3 (Da Nang) - Manager Profile
INSERT INTO dealer_manager_profiles (manager_id, user_id, dealer_id, management_level, approval_limit, department) VALUES
    (UNHEX(REPLACE('70000000-0000-0000-0000-000000000006', '-', '')), UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), 'MANAGER', 1000000000, 'Management')
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);


-- ========== DEALER_STAFF_PROFILES ==========
-- Link Staff Users với Dealers
-- Staff Profiles for Dealer 1
INSERT INTO dealer_staff_profiles (staff_id, user_id, dealer_id, position, department, hire_date, salary, commission_rate) VALUES
    (UNHEX(REPLACE('70000000-0000-0000-0000-000000000002', '-', '')), UNHEX(REPLACE('40000000-0000-0000-0000-000000000002', '-', '')), UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 'Sales Staff', 'Sales', '2021-06-15', 12000000, 1.5)
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Staff Profiles for Dealer 2
INSERT INTO dealer_staff_profiles (staff_id, user_id, dealer_id, position, department, hire_date, salary, commission_rate) VALUES
    (UNHEX(REPLACE('70000000-0000-0000-0000-000000000004', '-', '')), UNHEX(REPLACE('40000000-0000-0000-0000-000000000003', '-', '')), UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 'Sales Staff', 'Sales', '2022-01-10', 13000000, 1.8),
    (UNHEX(REPLACE('70000000-0000-0000-0000-000000000005', '-', '')), UNHEX(REPLACE('40000000-0000-0000-0000-000000000004', '-', '')), UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 'Sales Staff', 'Sales', '2022-03-15', 13000000, 1.8)
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- Staff Profile for Dealer 3
INSERT INTO dealer_staff_profiles (staff_id, user_id, dealer_id, position, department, hire_date, salary, commission_rate) VALUES
    (UNHEX(REPLACE('70000000-0000-0000-0000-000000000007', '-', '')), UNHEX(REPLACE('40000000-0000-0000-0000-000000000005', '-', '')), UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), 'Sales Staff', 'Sales', '2021-08-20', 12500000, 1.6)
ON DUPLICATE KEY UPDATE user_id = VALUES(user_id);

-- ============================================
-- 3. VEHICLE_SERVICE_DB - Vehicles
-- ============================================

USE vehicle_service_db;

-- ========== VEHICLE_MODELS ==========
INSERT INTO vehicle_models (model_id, model_name, brand, created_by, created_date, status, thumbnail_url, base_range_km, base_motor_power, base_battery_capacity, base_charging_time) VALUES
    (1, 'VF 8S', 'VinFast', 'evm.staff@vms.com', NOW(), 'IN_PRODUCTION', 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068919/vf8s_i80u08.jpg', 450, 150, 75, 30.0),
    (2, 'VF 9', 'VinFast', 'evm.staff@vms.com', NOW(), 'IN_PRODUCTION', 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068919/vf9_cpkjmx.jpg', 550, 200, 95, 35.0),
    (3, 'VF e34', 'VinFast', 'evm.staff@vms.com', NOW(), 'IN_PRODUCTION', 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068920/vfe34_rwnvqt.jpg', 350, 120, 55, 25.0),
    (4, 'VF 5 Plus', 'VinFast', 'evm.staff@vms.com', NOW(), 'IN_PRODUCTION', 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068918/vf5plus_wl1hvm.jpg', 300, 100, 50, 20.0),
    (5, 'VF 6', 'VinFast', 'evm.staff@vms.com', NOW(), 'DISCONTINUED', 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068918/vf6_iud3dv.jpg', 400, 130, 65, 28.0),
    (6, 'VF 3', 'VinFast', 'evm.staff@vms.com', NOW(), 'IN_PRODUCTION', 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068377/VinFast-VF-3-Infinity-Blanc_dqkvhb.png', 300, 100, 50, 20.0)
ON DUPLICATE KEY UPDATE model_name = VALUES(model_name);

-- ========== VEHICLE_VARIANTS ==========
INSERT INTO vehicle_variants (variant_id, model_id, version_name, color, sku_code, battery_capacity, charging_time, range_km, motor_power, price, wholesale_price, status, created_by, created_date, image_url) VALUES
    -- VF 8S Variants
    (1, 1, 'Standard', 'Đen Bóng', 'VF8S-STD-BLK', 75, 30.0, 450, 150, 1200000000, 1100000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068919/vf8s_i80u08.jpg'),
    (2, 1, 'Premium', 'Trắng Ngọc', 'VF8S-PRM-WHT', 75, 30.0, 450, 150, 1350000000, 1250000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068919/vf8s_i80u08.jpg'),
    (3, 1, 'Luxury', 'Xám Titan', 'VF8S-LUX-GRY', 75, 30.0, 450, 150, 1500000000, 1400000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068919/vf8s_i80u08.jpg'),
    
    -- VF 9 Variants
    (4, 2, 'Premium', 'Đen Bóng', 'VF9-PRM-BLK', 95, 35.0, 550, 200, 1800000000, 1700000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068919/vf9_cpkjmx.jpg'),
    (5, 2, 'Luxury', 'Vàng Đồng', 'VF9-LUX-GLD', 95, 35.0, 550, 200, 2000000000, 1900000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068919/vf9_cpkjmx.jpg'),
    
    -- VF e34 Variants
    (6, 3, 'Standard', 'Đỏ Cam', 'VFE34-STD-RED', 55, 25.0, 350, 120, 850000000, 800000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068377/vfe34_rwnvqt.jpg'),
    (7, 3, 'Premium', 'Xanh Dương', 'VFE34-PRM-BLU', 55, 25.0, 350, 120, 950000000, 900000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068377/vfe34_rwnvqt.jpg'),
    
    -- VF 5 Plus Variants
    (8, 4, 'Standard', 'Bạc', 'VF5P-STD-SLV', 50, 20.0, 300, 100, 600000000, 550000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068918/vf5plus_wl1hvm.jpg'),
    (9, 4, 'Premium', 'Xanh Đen', 'VF5P-PRM-DBL', 50, 20.0, 300, 100, 700000000, 650000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068918/vf5plus_wl1hvm.jpg'),
    
    -- VF 6 Variants (Pre-order)
    (10, 5, 'Standard', 'Trắng Ngọc', 'VF6-STD-WHT', 65, 28.0, 400, 130, 1000000000, 950000000, 'DISCONTINUED', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068918/vf6_iud3dv.jpg'),
    (11, 5, 'Premium', 'Đen Bóng', 'VF6-PRM-BLK', 65, 28.0, 400, 130, 1150000000, 1100000000, 'DISCONTINUED', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068918/vf6_iud3dv.jpg'),

    -- VF 3 Variants
    (12, 6, 'Standard', 'Trắng Ngọc', 'VF3-STD-WHT', 50, 20.0, 300, 100, 600000000, 550000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068377/VinFast-VF-3-Infinity-Blanc_dqkvhb.png'),
    (13, 6, 'Premium', 'Đen Bóng', 'VF3-PRM-BLK', 50, 20.0, 300, 100, 700000000, 650000000, 'IN_PRODUCTION', 'evm.staff@vms.com', NOW(), 'https://res.cloudinary.com/dcs2hhnjw/image/upload/v1768068377/VinFast-VF-3-Infinity-Blanc_dqkvhb.png')
ON DUPLICATE KEY UPDATE version_name = VALUES(version_name);

-- ============================================
-- 4. INVENTORY_DB - Inventory
-- ============================================

USE inventory_db;

-- ========== CENTRAL_INVENTORY ==========
INSERT INTO central_inventory (variant_id, total_quantity, allocated_quantity, available_quantity) VALUES
    (1, 50, 10, 40),
    (2, 30, 5, 25),
    (3, 20, 3, 17),
    (4, 25, 8, 17),
    (5, 15, 2, 13),
    (6, 40, 12, 28),
    (7, 35, 7, 28),
    (8, 60, 15, 45),
    (9, 45, 10, 35),
    (10, 0, 0, 0),
    (11, 0, 0, 0),
    (12, 50, 10, 40),
    (13, 30, 5, 25)
ON DUPLICATE KEY UPDATE variant_id = VALUES(variant_id);

-- ========== DEALER_INVENTORY ==========
-- Phân phối xe cho các đại lý
INSERT INTO dealer_inventory (dealer_id, variant_id, allocated_quantity, available_quantity, reorder_level) VALUES
    -- Dealer 1 (Hanoi)
    (UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 1, 3, 12, 5),
    (UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 2, 2, 8, 3),
    (UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 6, 3, 7, 3),
    (UNHEX(REPLACE('3ec76f92-7d44-49f4-ada1-b47d4f55b418', '-', '')), 8, 5, 15, 5),
    
    -- Dealer 2 (HCM)
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 1, 4, 16, 5),
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 4, 3, 9, 4),
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 5, 1, 7, 3),
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000002', '-', '')), 7, 4, 11, 4),
    
    -- Dealer 3 (Da Nang)
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), 3, 1, 7, 3),
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), 6, 2, 10, 4),
    (UNHEX(REPLACE('30000000-0000-0000-0000-000000000003', '-', '')), 9, 3, 12, 5)
ON DUPLICATE KEY UPDATE dealer_id = VALUES(dealer_id);

-- ============================================
-- SUMMARY & UUID MAPPING
-- ============================================
-- Đã tạo:
-- 1. Role: Được DataInitializer tự động tạo khi service khởi động
-- 2. Users với các role tương ứng
-- 3. Dealers  
-- 4. DealerStaffProfiles liên kết Users với Dealers
-- 5. Vehicle Models và Variants
-- 6. Inventory data (Central & Dealer)
--
-- UUID Mapping (Fixed 36 chars format):
-- DEALERS:
--   - Dealer Hanoi: 3ec76f92-7d44-49f4-ada1-b47d4f55b418 (từ DataInitializer)
--   - Dealer HCM: 30000000-0000-0000-0000-000000000002
--   - Dealer Da Nang: 30000000-0000-0000-0000-000000000003
--
-- USERS:
--   - Admin: Created by DataInitializer (admin@gmail.com)
--   - EVM Staff: 20000000-0000-0000-0000-000000000002
--   - Dealer Manager HN: 3ec76f92-7d44-49f4-ada1-b47d4f55b418 (TrongManager@gmail.com from DataInitializer)
--   - Dealer Manager HCM: 30000000-0000-0000-0000-000000000002
--   - Dealer Manager DN: 30000000-0000-0000-0000-000000000003
--   - Dealer Staff HN: Created by DataInitializer (TrongStaff@gmail.com) + 40000000-0000-0000-0000-000000000002
--   - Dealer Staff HCM: 40000000-0000-0000-0000-000000000003, 40000000-0000-0000-0000-000000000004
--   - Dealer Staff DN: 40000000-0000-0000-0000-000000000005
--   - Customers: 50000000-0000-0000-0000-00000000000[1-3]
--
-- Role được tạo tự động bởi DataInitializer:
--   - ADMIN, EVM_STAFF, DEALER_MANAGER, DEALER_STAFF, CUSTOMER
-- ============================================
